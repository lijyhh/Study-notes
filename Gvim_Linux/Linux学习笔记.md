[Linux学习网站](man.linuxde.net)

# 一．Linux基础知识

## 1.Linux系统特点

开放性（开源）、多用户、多任务（单任务）、良好的用户界面、优异性能与稳定性

- 单用户：一个用户，在登录计算机（操作系统），只能允许同时登录一个用户；

- 单任务：一个任务，允许户同时进行的操作任务数量；

- 多用户：多个用户，在登录计算机（操作系统），允许同时登录多个用户进行操作；

- 多任务：多个任务，允许用户同时进行多个操作任务；

- Windows属于：单用户、多任务。

- Linux属于：多用户、多任务。

## 2.Linux分支

分支：Linux分支有很多，现在比较有名的ubuntu、debian、centos（Community Enterprise Operating System社区企业操作系统）、redhat、suse等等。

# 二．Linux系统的安装

## 1.安装方式

目前安装操作系统方式有2种：真机安装、虚拟机安装。

- 真机安装：使用真实的电脑进行安装，像安装 windows操作系统一样，真机安装的结果就是替换掉当前的Windows操作系统； 
- 虚拟机安装：通过一些特定的手段，来进行模拟安装，并不会影响当前计算机的真实操作系统；

- 如果是学习或者测试使用，强烈建议使用虚拟机安装方式。

## 2、虚拟机软件

什么是虚拟机？

- 虚拟机，有些时候想模拟出一个真实的电脑环境，碍于使用真机安装代价太大，因此而诞生的一款可以模拟操作系统运行的软件。 
- 虚拟机目前有2个比较有名的产品：wmware出品的wmware workstation、oracle 出品的vfirtual Box。

## 3.Linux版本的选择

- 版本选择：CentOS5【镜像一般都是xxx.iso文件】 

- Vmvare中使用`Ctrl+alt`释放鼠标

- 虚拟机怎么关机？

  答：可以通过命令行方式进行关机。命令的输入需要在终端中进行输入。

  所谓终端，其实类似于windows下cmd命令行模式。在终端中可以输入需要执行的一些指令，同样可以通过终端进行关机（注意：以后在工作中很少会去使用关机命令，会使用重启）。

![img](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/终端介绍.png)

- 如何使用终端命令进行关机？

  在Linux中关机命令有以下几个：`shutdown -h now（正常关机）`、`halt（关闭内存）`、`init 0` 

## 4、使用VMware备份操作系统

在vm中备份方式有2种：快照、克隆。

1. 快照：又称还原点，就是保存在拍快照时候的系统的状态（包含了所有的内容），在后期的时候随时可以恢复。【侧重在于短期备份，需要频繁备份的时候可以使用快照，做快照的时候虚拟的操作系统一般处于开启状态】

步骤：

- 在菜单“虚拟机”“快照”“拍摄快照”

- 输入相关信息，点击拍摄快照

- 搞事情

- 使用快照恢复搞事情之前的状态

- 路径：虚拟机-快照-快照管理器

2. 克隆：就是复制的意思。【侧重长期备份，做克隆的时候是必须得关闭】 

- 路径：先关机-右键需要克隆的虚拟机-管理-克隆

- 克隆时注意：

![img](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200404235517.png)

- 克隆好的服务器相关密码帐号等信息与被克隆的系统一致。

# 三．Linux系统的文件

## 1、文件与文件夹（目录）

### 1.1什么是文件？

- 一般都是一个独立的东西，可以通过一些特定的工具进行打开，并且其中不能在包含除了文字以外的东西。

### 1.2什么是文件夹？

- 可以在其中包含其他文件的东西。 

### 1.3为什么先讲文件？

- 日常运维工作中，有近一半以上的工作内容精力其实都是对文件的操作。

- Linux本身也是一个基于文件形式表示的操作系统。

## 2、Linux一切皆文件

### 2.1 简介：

- 在windows是文件的，在Linux下同样也是文件；

- 在windows不是文件的，在Linux下也是以文件的形式存储的； 

- 日常学习中和日常工作中，对于文件的操作的都有哪些种类？

  创建文件、编辑文件、保存文件、关闭文件、重命名文件、删除文件、恢复文件。

### 2.2目录结构：

![文件结构](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/文件结构.png)

Bin：全称binary，含义是二进制。该目录中存储的都是一些二进制文件，文件都是可以被运行的。

Dev：该目录中主要存放的是外接设备，例如u盘、其他的光盘等。在其中的外接设备是不能直接被使用的，需要挂载（类似windows下的分配盘符）。

Etc：该目录主要存储一些配置文件，里面的passwd文件是记录用户信息的文件。

Home：表示“家”，表示除了root用户以外其他用户的家目录，类似于windows下的User/用户目录。

Proc：process，表示进程，该目录中存储的是Linux运行时候的进程（不要打开，容易卡屏）。

Root：该目录是root用户自己的家目录。

Sbin：全称super binary，该目录也是存储一些可以被执行的二进制文件，但是必须得有super权限的用户才能执行。

Tmp：表示“临时”的，当系统运行时候产生的临时文件会在这个目录存着。

usr：存放的是用户自己安装的软件，类似于windows 下的program files。

Var：存放的程序/系统的日志文件的目录。

Mnt：当外接设备需要挂载的时候，就需要挂载到mnt目录下。

Boot：操作系统启动的时候产生的一些文件，boot：启动，开机

# 四．Linux的基本指令

## 指令与选项

### 一、什么是Linux的指令？

- 指在Linux终端（命令行）中输入的内容就称之为指令。 

- 一个完整的指令的标准格式：Linux通用的格式

- #指令主体 [选项] [操作对象]  []表示可选

- 一个指令可以包含多个选项

- 操作对象也可以是多个

- 例如：需要让张三同学帮忙去楼下小卖铺买一瓶农夫山泉水和清风餐巾纸，在这个指令中“买东西”是指令的主体，买的水和餐巾纸是操作的对象，农夫山泉、清风是操作的选项。 

### 二、基础指令

#### 1、ls指令

含义：ls（list）

![根目录](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200405003610.png)

/表示盘的根目录 

用法1：`#ls`

- 含义：列出当前工作目录下的所有文件/文件夹的名称

![ls1](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/ls_1.png)

用法2：`#ls  路径`

- 含义：列出指定路径下的所有文件/文件夹的名称

![ls2](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/ls2.png)

==关于路径（重要）：==

- 路径可以分为两种：相对路径、绝对路径。

- 相对路径：相对首先得有一个参照物（一般就是当前的工作路径）；

  相对路径的写法：在相对路径中通常会用到2个符号”./”(./等价与不写./)【表示当前目录下】、“../”【上一级目录下】

- 绝对路径：绝对路径不需要参照物，直接从根“/”开始寻找对应路径； 

用法3：`ls 选项 路径`

- 含义：在列出指定路径下的文件/文件夹的名称，并以指定的格式进行显示。

- 常见的语法：

  - `#ls -l 路径`

  - `#ls -la 路径` 

- 选项解释：

  1. -1：表示list，表示以详细列表的形式进行展示

     ![ls3](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/ls3.png)

     - 上述列表中的第一列字符表示文档的类型，其中“-”表示该行对应的文档类型为文件，“d”表示文档类型为文件夹。

  2. -a：表示显示所有的文件/文件夹（包含了隐藏文件/文件夹）

     ![ls4](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200405005921.png)

     - 在Linux中隐藏文档一般都是以“.”开头。 

用法4：`#ls –lh路径`

- 含义：列出指定路径下的所有文件/文件夹的名称，以列表的形式并且在显示文档大小的时候以可读性较高的形式显示

![ls4](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200405075251.png)

- 注意：ls列出的结果颜色说明，其中蓝色的名称表示文件夹，黑色的表示文件，绿色的表示其权限为拥有所有权限。

#### 2、pwd指令

用法：`#pwd`（print working directory，打印当前工作目录）

![pwd](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200405075557.png)

#### 3、cd命令

命令：`#cd`（change directory，改变目录）

作用：用于切换当前的工作目录

语法：`#cd 路径`

补充：

在Linux中有一个特殊的符号“~”，表示当前用户的家目录

切换方式：`#cd ～`

![cd](https://raw.githubusercontent.com/lijyhh/My_typora_pics/master/img/20200405075845.png)

#### 4、mkdir指令

指令：`mkdir`（make directory，创建目录）

语法1：`mkdir 路径`【路径，可以是文件夹名称也可以是包含名称的一个完整路径】

![mkdir1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405095050.png)

语法2：`#mkdir -p 路径`

含义：当一次性创建多层不存在的目录的时候，添加-p参数，否则会报错

![mkdir2](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405095315.png)

语法3：#mkdir 路径1 路径2 路径3 …【表示一次性创建多个目录】 

#### 5、touch指令

指令：`touch`

作用：创建文件

语法：`#touch 文件路径`【路径可以是直接的文件名也可以是路径】 

也可以使用touch来同时创建多个文件

![touch](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405095551.png)

#### 6、cp指令

指令：cp（copy，复制）

作用：复制文件/文件夹到指定的位置

语法：`#cp 被复制的文档路径 文档被复制到的路径`

注：复制过程中可以改名，但建议保持一致

![cp](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405100232.png)

案例：使用cp命令来复制一个文件夹

注意：当使用cp命令进行文件夹复制操作的时候需要添加选项“-r”【-r（recursion）表示递归复制，递归是指很多层次的东西】，否则目录将被忽略

![cp2](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405101057.png)

#### 7、mv指令

指令：mv（move，移动，剪切）

作用：移动文档到新的位置

语法：`#mv 需要移动的文档路径 需要保存的位置路径`

确认：移动之后原始的文件不在原来的位置了

==注：移动文件时不需要加-r了==

![mv1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405101348.png)

补充：在Linux中重命名的命令也是mv，语法和移动语法一样。但是路径得不变。

![mv2](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405101439.png)

#### 8、rm命令

指令：rm（remove，移除、删除）

作用：移除/删除文档

语法：`#rm 选项 需要移除的文档路径`

选项：

```
-f:force，强制删除，不提示是否删除

-r:递归
```

在删除的时候如果不带选项，会提示是否删除，如果需要确认则输入“y/yes”，否则输入“n/no”按下回车。

注意：如果在删除的时候不想频繁的确认，则可以在指令中添加选项“-f”，表示force（强制）-r -f 可以写在一起 -rf 

案例：要删除一个目录下有公共特性的文档，例如都以.txt结尾

其中  称之为通配符，意思表示任意的字符，.txt，则表示只要文件以.txt结尾，其他字符则不管。

![rm](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405102436.png)

#### 9、vim命令

指令：vim（vim是一款文本编辑器，编辑器之神）

语法：#vim 文件的路径

作用：打开一个文件（可以不存在，也可以存在）

命令：

![vim1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405102613.png)

打开后界面：

![vim](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405102734.png)

#### 10、输出重定向

一般命令的输出都会显示在终端中，有些时候需要将一些命令的执行结果想要保存到文件中进行后续的分析/统计，则这时候需要使用到的输出重定向技术。

\>：覆盖输出，会覆盖掉原先的文件内容

\>>：追加输出，不会覆盖原始文件内容，会在原始内容未尾继续添加

Eg:ls -la > ls.txt

语法：`#正常执行的指令 >/>> 文件的路径`

注意：文件可以不存在，不存在则新建

![>](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405103544.png)

#### 11、cat指令

作用1：cat有直接打开一个文件（非文件夹）的功能。

语法1：`#cat 文件的路径` 

作用2：cat还可以对文件进行合并

语法2：`#cat 待合并的文件路径1 待合并的文件路径2... 文件路径n > 合并之后的文件路径`

![cat](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405104102.png)

### 三、进阶指令（重点）

#### 1、df指令

作用：查看磁盘的空间

语法：`#df -h`  -h表示以可读性较高的形式展示大小

![df](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405104159.png)

```
Filesystem 相当于windows中的盘符

Size 大小

Used 已使用

Avail 可用

Use% 使用百分比

Mounted on 挂载点（根目录下有个文件夹叫mnt）
```

 

#### 2、free指令

作用：查看内存使用情况

语法：`#free -m`  -m表示以mb为单位查看内存的使用情况(-g以g为单位查看)最常用-m

![free](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405104445.png)

```
看内存的话，cache比较准确（剩余的真实可以用的内存），因为包括了已经被分配了但没有被使用的

右侧Buffers（输出）和cached（输入）就是已经被分配了但没有被使用的

Swap：用于临时内存，当系统真实内存不够用的时候可以临时使用磁盘空间来充当内存。
```

(Tips:Windows使用计算器：win+r，输入calc) 

#### 3、head指令

作用：查看一个文件的前n行，如果不指定n，则默认显示前10行。

语法：`#head -n文件路径`  【n表示数字】

![head](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405105535.png)

#### 4、tail指令

作用1：查看一个文件的末n行，如果n不指定默认显示后10行

作用2：可以通过tail 指令来查看一个文件的动态变化【如果是-f，则变化的内容不能是用户手动增加的，如果是-F，则可以】，使用ctrl+c退出

语法：`#tail -F 文件路径`该命令一般用于查看系统的日志比较多。

![tail](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405110258.png)

#### 5、less指令

作用：查看文件，以较少的内容进行输出，按下辅助功能键:`数字+回车、空格键（翻页）+上下方向键`，查看更多

语法：`#less 需要查看的文件路径`

#### 6、wc指令

作用：统计文件内容信息（包含行数、单词数、字节数）

语法：`#wc -lwc 需要统计的文件路径`

![wc](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111117.png)

l：表示lines，行数

w：表示words，单词数  依照空格来判断单词数量

c：表示bytes，字节数 

#### 7、date 指令（重点）

作用：表示操作时间日期（读取、设置）

语法1：`#date` 

输出形式：

![data1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111322.png)

- CST：当地时间

语法2：`#date +%F`

- 输出形式：（等价于#date +“%Y-%m-%d”）

![img](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111433.png)

语法3：`#date “+%F %T”`  引号表示让“年月日与时分秒”成为一个不可分割的整体

输出形式：等价操作 #date "+%Y-%m-%d %H:%M:%S”

![img](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111540.png)

语法4：获取之前或者之后的某个时间（备份）

\#date -d “-1 day" “+%Y-%m-%d  %H:%M:%S”

![date4](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111807.png)

符号的可选值：+（之后）或者 -（之前）

单位的可选值：day（天）、month（月份）、year（年）

```
%F：表示完整的年月日

%T：表示完整的时分秒

%Y：表示四位年份

%m：表示两位月份（带前导0）

%d：表示日期（带前导0）

%H：表示小时（带前导0）

%M：表示分钟（带前导0）

%S：表示秒数（带前导0）
```

####  8、cal指令（calendar）

作用：用来操作日历的，不是计算器

语法1：`#cal` 等价于#cal-1直接输出当前月份的日历

语法2：`#cal-3`表示输出上一个月+本月+下个月的日历

![cal1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405111953.png)

语法3：`#cal -y`年份 表示输出某一个年份的日历

![cal2](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405112030.png)

9、clear/ctrl+L

指令作用：清除终端中已经存在的命令和结果（信息）。

语法：`clear或者快捷键：ctrl+L`

需要注意的是，该命令并不是真的清除了之前的信息，而是把之前的信息的隐藏到了最上面，通过滚动条继续查看以前的信息。 

#### 10、管道（重要）

管道符：|

作用：管道一般可以用于==“过滤”，“特殊”，“扩展处理”==。

语法：管道不能单独使用，必须需要配合前面所讲的一些指令来一起使用，其作用主要是辅助作用。

过滤案例（100%使用）：需要通过管道查询出当前目录下包含“p”字母的文档名称。

\#ls /|grep p

![|](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405112451.png)

针对上面这个命令说明：

- 以管道作为分界线，前面的命令有个输出，后面需要先输入，然后再过滤，最后再输出，通俗的讲就是管道前面的输出就是后面指令的输入；

- grep指令：主要用于过滤

- 特殊用法案例：通过管道的操作方法来实现less的等价效果（了解）

  之前通过less查看一个文件，可以#less路径现在通过管道还可以这么：#cat 路径|less

- 扩展处理：请使用学过的命令，来统计某个目录下的文档的总个数？

  答：ls / | wc -l

![|](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405112554.png)

​	可以看到是正确的。

# 五．Linux的基本指令（2）

## 一、高级指令

### 1、host name指令

作用：操作服务器的主机名（读取、设置）

语法1：`#hostname`    含义：表示输出完整的主机名

![hostname](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405113257.png)

语法2：`#hostname -f（FQDN）` 含义：表示输出当前主机名中的FQDN（全限定域名）

### 2、id指令

作用：查看一个用户的一些基本信息（包含用户id，用户组id，附加组id..），该指令如果不指定用户则默认当前用户。

语法1：`#id`  默认显示当前执行该命令的用户的基本信息

语法2：`#id 用户名` 显示指定用户的基本信息

![id](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405113357.png)

验证上述信息是否正确？

验证用户信息：通过文件/etc/passwd

验证用户组信息：通过文件/etc/group

### 3、whoami指令

作用：“我是谁？” 显示当前登录的用户名，一般用于shell脚本，用于获取当前操作的用户名方便记录日志。

语法：`#whoami`

![whoami](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405113515.png)

### 4、ps -ef指令（重点）

指令：`#ps`

作用：主要是查看服务器的进程信息选项含义：

```
-e：等价于“-A”，表示列出全部的进程

-f：显示全部的列（显示全字段）
```

执行结果：

​    ![img](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405113627.png)

列的含义：

```
UID：该进程执行的用户id；

PID：进程id；

PPID：该进程的父级进程id，如果一个程序的父级进程找不到，该程序的进程称之为僵尸进程；

C：Cpu的占用率，其形式是百分数；

STIME：进行的启动时间；

TTY：终端设备，发起该进程的设备识别符号，如果显示“？”则表示该进程并不是由终端设备发起；（pts/1表示当前终端）

TIME：进程的执行时间；

CMD：该进程的名称或者对应的路径；
```

案例：（100%使用的命令）在ps的结果中过滤出想要查看的进程状态

\#ps -ef | grep 进程名称

![ps](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405114252.png)

### 5、top指令（重点）

作用：查看服务器的**进程占的资源**

语法：

进入命令：`#top（动态显示）`

退出命令：`按下q键`

输出结果：

![top](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405114411.png)

表头含义：

```
PID：进程id；

USER：该进程对应的用户；

PR：优先级；

VIRT：虚拟内存；

RES：常驻内存；

SHR：共享内存；计算一个进程实际使用的内存=常驻内存（RES）-共享内存（s函R）

S：表示进行的状态（sleeping，其中S表示睡眠，R表示运行）；

%CPU：表示CPU的占用百分比；

%MEM：表示内存的占用百分比；

TIME+：执行的时间；

COMMAND：进程的名称或者路径；
```

- chrome进行：
  - 虚拟内存：申请500MB 实际使用了320MB 此时的虚拟内存就是500MB
  - 常驻内存：申请500MB 实际使用了320MB 此时的常驻内存就是320MB

  - 共享内存：申请500MB 实际使用了320MB，但是其中还包含对其他进程的调用开销则需要扣除 

- 在运行top的时候，可以按下方便的快捷键：

```
M：表示将结果按照内存（MEM）从高到低进行降序排列；

P：表示将结果按照CPU使用率从高到低进行降序排列；

l：当服务器拥有多个cpu的时候可以使用“l”快捷键来切换是否展开显示各个cpu的详细信息
```

### 6、du -sh指令

作用：查看**目录的真实大小**

语法：`#du -sh 目录路径`

选项含义：

```
-s：summaries，只显示汇总的大小

-h：表示以高可读性的形式进行显示
```

![du](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405115801.png)

### 7、find指令

作用：用于查找文件（其参数有55个之多）

语法：`#find 路径范围 选项 选项的值`

选项：

```
-name：按照文档名称进行搜索（支持模糊搜索）

-type：按照文档的类型进行搜索

文档类型：“-”表示文件（在使用find的时候需要用f来替换），“d”表示文件夹
```

案例：使用find 来搜索prc2

```
#find ./ -name prc2
```

![find1](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405120236.png)

案例：搜索etc目录下所有的conf后缀文件

```
#find /etc -name .conf

#find /etc -name  .conf | wc -l（个数）
```

案例：使用find 来搜索/etc/sane.d/目录下所有的文件

```
#find/etc/sane.d/-type f
```

案例：使用find 来搜索/etc/目录下所有的文件夹

```
#find /etc -type d
```

### 8、service 指令（重点）

作用：用于**控制一些软件的服务启动/停止/重启**

语法：`#service 服务名 start/stop/restart`

例如：需要启动本机安装的Apache（网站服务器软件），其服务名httpd

\#service httpd start

### 9、kill 指令（重点）

作用：表示杀死进程（当遇到僵尸进程或者出于某些原因需要关闭进程的时候）

语法：`#kill 进程PID（语法需要配合ps一起使用）`

 

与kill命令作用相似但是比kill更加好用的杀死进程的命令：killall

语法：`#killall 进程名称`



案例：寻找并杀死僵尸进程

```js
ps -A -o stat,ppid,pid,cmd | grep -e '^[Zz]'
```

命令注解：

```
-A 参数列出所有进程

-o 自定义输出字段 我们设定显示字段为 stat（状态）, ppid（进程父id）, pid(进程id)，cmd（命令）这四个参数
因为状态为 z或者Z的进程为僵尸进程，所以我们使用grep抓取stat状态为zZ进程
```

- 查看是否有僵尸进程：

![zombie](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405121531.png)

- 查找pid,ppid等：

![ps](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405122203.png)

- kill：

   可以使用 kill -HUP 5323 来杀掉这个**僵尸进程**

### 10、ifconfig指令（重点）

作用：用于操作网卡相关的指令。

简单语法：`#ifconfig（获取网卡信息）`

![ifconfig](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405122819.png)

Eth0表示Linux中的一个网卡，eth0是其名称。Lo（loop，本地回还网卡，其ip地址一般都是127.0.0.1）也是一个网卡名称。

注意：inet addr 就是**网卡的ip地址**。

11、reboot指令

作用：重新启动计算机，reboot：重启

语法1：`#reboot重启`

语法2：`#reboot -w摸拟重启，但是不重启（只写关机与开机的日志信息）`

### 12、shutdown指令

作用：关机（慎用）

语法1：`#shutdown -h now “关机提示”或者#shutdown -h 15：25 “关机提示"`

如果想要取消关机计划的话，则可以按照以下方式去尝试：

- 针对于centos7.x之前的版本：ctrl+c

- 针对于centos7.x（包含）之后的版本：shutdown -c

除了shutdown关机以外，还有以下几个关机命令：

```
#init 0

#hat

#poweroff
```

### 13、uptime指令

作用：输出计算机的持续在线时间（计算机从开机到现在运行的时间）

语法：`#uptime`

![img](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405125028.png)

​	Load average: 负载

### 14、uname指令

作用：获取计算机操作系统相关信息

语法1：`#uname`  获取操作系统的类型

语法2：`#uname -a`  -a是all，表示获取全部的系统信息（类型、全部主机名、内核版本、发布时间、开源计划）

![uname](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405125155.png)

### 15、netstat-tnlp指令

作用：查看网络连接状态

语法：#netstat -tnlp

![netstat](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405125348.png)

```
-t：表示只列出tcp协议的连接；

-n：表示将地址从字母组合转化成ip地址，将协议转化成端口号来显示；

-l：表示过滤出“state（状态）”列中其值为LISTEN（监听）的连接；

-p：表示显示发起连接的进程pid和进程名称；
```

### 16、man指令

作用：manual，手册（包含了Linux中全部命令手册，英文）

语法：`#man 命令`（退出按下q键）

## 二、练习题

1、如何通过命令行重启linux操作系统？#reboot

2、如何在命令行中快速删除光标前/后的内容？ 前：ctrl+u后：ctrl+k

3、如何删除/tmp下所有A开头的文件？#rm -f /tmp/A*

4、系统重要文件需要备份，如何把/etc/passwd备份到/tmp目录下？

\#cp /etc/passwd /tmp/

5、如何查看系统最后创建的3个用户？#tail -3 /etc/passwd

6、什么命令可以统计当前系统中一共有多少账户？

\#wc -l /etc/passwd  或  #cat/etc/passwd | wc -l

7、如何创建/tmp/test.conf文件？

\#touch /tmp/test.conf

8、如何通过vim编辑打开/tmp/test.conf？  vim /tmp/test.conf

9、如何查看/etc/passd的头3行和尾3行？

\#head -3 /etc/passwd

\#tail -3 /etc/passwd

10、如何一次性创建目录/text/1/2/3/4？

\#mkdir -p /text/1/2/3/4

11、如何最快的返回到当前账户的家目录？

\#cd ~ 或 #cd

12、如何查看/etc所占的磁盘空间？

\#du -sh /etc

13、如何删除/tmp下所有的文件？

\#rm -rf /tmp/*

14、尝试启动Apache的服务，并且检查是否启动成功。

\#service httpd start

\#ps -ef | grep httpd

15、使用已学命令杀死Apache的进程。

\#killall httpd

# 六．编辑器之神--vim编辑器

## 一、vi介绍

vi编辑器是所有Unix及Linux系统下标准的编辑器，类似于windows系统下的notepad（记事本）编辑器，由于在Unix及Linux系统的任何版本，Vi编辑器是完全相同的，因此可以在其他任何介绍vi的地方都能进一步了解它，Vi也是Linux中最基本的文本编辑器，学会它后，我们将在Linux的世界里畅行无阻，尤其是在终端中。

关于vim：

vi和vim都是Linux中的编辑器，不同的是，vim比较高级，可以视为vi的升级版本。vi使用于文本编辑，但是vim更适用于coding（编程）。

Vim重点是光标的移动，模式切换，删除，查找替换，复制，粘贴，撤销命令的使用。

## 二、vim三种模式

Vim中存在三种模式（大众的认知）：**命令模式、编辑模式（输入模式）、末行模式（尾行模式）**。

```
命令模式：在该模式下是不能对文件直接编辑，可以输入快捷键进行一些操作（删除行，复制行，移动光标，粘贴等等）【打开文件之后默认进入的模式】；

编辑模式：在该模式可以对文件的内容进行编辑；

末行模式：可以在末行输入命令来对文件进行操作（搜索、替换、保存、退出、撤销、高亮等等）；
```

 

Vim的打开文件的方式（4种，要求掌握的就前三种）：

```
#vim  文件路径          作用：打开指定的文件

#vim    +数字   文件的路径  作用：打开指定的文件，并且将光标移动到指定行

#vim    +/关键词  文件的路径  作用：打开指定的文件，并且高亮显示关键词

#vim    文件路径1 文件路径2 文件路径3  作用：同时打开多个文件
```

 

重点：先复制出一个/etc/passwd文件，复制当前家目录下

后续一切vim命令都是基/root/passwd文件进行操作。

退出方式：输入：q按下回车即可

## 三、命令模式

注意：该模式是打开文件的第一个看到的模式（打开文件即可进入）

### 1、光标移动

#### 1.1光标移动到行首

按键：shift+6 或 ^（T字母上面的6，不要按小键盘的6）

 

#### 1.2光标移动到行尾

按键：shift+4 或 $（R字母的左上角的4，不是小键盘的4）

正则表达式 *（通配符）^（开始）$（结尾）

 

#### 1.3光标移动到首行

按键：gg

 

#### 1.4光标移动到末行

按键：G

 

#### 1.5翻屏

向上翻屏：按键ctrl+b（before）或PgUp

向下翻屏：按键ctrl+f（after）或PgDn

 

### 2、复制操作

#### 2.1复制光标所在行

按键：yy

粘贴：在想要粘贴的地方按下p键

#### 2.2以光标所在行为准（包含当前行），向下复制指定的行数

按键：数字yy

#### 2.3可视化复制

按键：ctrl+v，然后按下上下左右方向键来选中需要复制的区块，按下yy键进行复制，最后按下p键粘贴

### 3、剪切/删除

#### 3.1剪切/删除光标所在行

按键：dd（删除之后下一行上移）注意：dd严格意义上说是剪切命令，但是如果剪切了不粘贴就是删除的效果。

#### 3.2剪切/删除光标所在行为准（包含当前行），向下删除/剪切指定的行

按键：数字dd（删除之后下一行上移）

#### 3.3剪切/删除光标所在的当前行，但是删除之后下一行不上移

按键：D（删除之后当前行会变成空白行）

### 4、撤销/恢复

撤销：输入 :u或者u（undo）

恢复：ctrl+r   恢复（取消）之前的撤销

### 5、扩展1：光标的快速移动

①快速将光标移动到指定的行按键：数字G

②以当前光标为准向上/向下移动n行按键：数字↑，数字↓

③以当前光标为准向左/向右移动n字符按键：数字←，数字→

④末行模式下的快速移动方式：移动到指定的行按键：输入英文“：”，其后输入行数数字，按下回车 

## 四、模式间的相互切换（重点）

![框图](https://pics-1301774945.cos.ap-chengdu.myqcloud.com/20200405133045.png) 

## 五. 末行模式

命令模式下按“:”进入末行模式；

退出末行模式：

- 按一下esc
- 按两下esc（一下和两下的区别是速度问题）
- 删除末行命令和冒号，即退出末行模式



 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 